/*

	Thumb Reel - Fluid Thumbnail Bar
	Version: 1.0
		
	Author	: Sam Dunn
	Source	: Build Internet (www.buildinternet.com)
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License

*/

jQuery(function(h){var f="#thumb-list",c="#thumb-tray",b="#thumb-next",d="#thumb-prev",g,a=0,e=0;h(f).width(h("> li",f).length*h("> li",f).outerWidth(true));if(h(f).width()<=h(c).width()){h(d+","+b).fadeOut(0)}g=Math.floor(h(c).width()/h("> li",f).outerWidth(true))*h("> li",f).outerWidth(true);h("li",f).eq(0).addClass("current-thumb");h(b).click(function(){if(e-g<=-h(f).width()){e=0;h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"})}else{e=e-g;h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"})}});h(d).click(function(){if(e+g>0){e=Math.floor(h(f).width()/g)*-g;if(h(f).width()<=-e){e=e+g}h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"})}else{e=e+g;h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"})}});h(window).resize(function(){e=0;g=Math.floor(h(c).width()/h("> li",f).outerWidth(true))*h("> li",f).outerWidth(true);if(h(f).width()>h(c).width()){h(d+","+b).fadeIn("fast");h(f).stop().animate({left:0},200)}else{h(d+","+b).fadeOut("fast")}});h("li",f).click(function(){h(".current-thumb").removeClass("current-thumb");h("li",f).eq(h(this).index()).addClass("current-thumb");if(h(f).width()>h(c).width()&&a<=h(this).index()&&h(".current-thumb").offset().left-h(c).offset().left>=g){e=e-g;h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"})}a=h(this).index();return false});goThumb=function(i){h(".current-thumb").removeClass("current-thumb");if(i=="next"){if(a+1<h("li",f).length){a++;if(h("li",f).eq(a).offset().left-h(c).offset().left>=g){e=e-g}}else{a=0;e=0}}else{if(i=="prev"){if(a==0){a=h("li",f).length-1;e=Math.floor(h(f).width()/g)*-g;if(h(f).width()<=-e){e=e+g}}else{a--;if(h("li",f).eq(a).offset().left-h(c).offset().left<0){if(e+g>0){return false}e=e+g}}}}h(f).stop().animate({left:e},{duration:500,easing:"easeOutExpo"});h("li",f).eq(a).addClass("current-thumb")};h(document.documentElement).keyup(function(i){if((i.keyCode==37)||(i.keyCode==40)){goThumb("prev")}else{if((i.keyCode==39)||(i.keyCode==38)){goThumb("next")}}})});